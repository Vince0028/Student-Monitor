{% extends 'student_base.html' %}

{% block title %}Assignments - Student Portal{% endblock %}

{% block content %}
<h2><i class="fas fa-tasks"></i> Assignments</h2>
<form method="get" class="filter-form" style="margin-bottom: 1.5rem; display: flex; gap: 1rem; flex-wrap: wrap;">
    <div>
        <label for="subject">Subject:</label>
        <input type="text" name="subject" id="subject" value="{{ request.args.get('subject', '') }}">
    </div>
    <div>
        <label for="status">Status:</label>
        <select name="status" id="status">
            <option value="">All</option>
            <option value="upcoming" {% if request.args.get('status') == 'upcoming' %}selected{% endif %}>Upcoming</option>
            <option value="completed" {% if request.args.get('status') == 'completed' %}selected{% endif %}>Completed</option>
            <option value="past_due" {% if request.args.get('status') == 'past_due' %}selected{% endif %}>Past Due</option>
        </select>
    </div>
    <button type="submit" class="btn btn-outline btn-sm"><i class="fas fa-filter"></i> Filter</button>
</form>
<div class="assignments-list">
    {% if assignments %}
        {% for assignment in assignments %}
        <div class="assignment-card">
            <div class="assignment-header">
                <h3>{{ assignment.title }}</h3>
                <span class="assignment-status status-{{ assignment.status }}">{{ assignment.status|capitalize }}</span>
            </div>
            <div class="assignment-meta">
                <span><i class="fas fa-book"></i> {{ assignment.subject }}</span>
                <span><i class="fas fa-calendar"></i> Due: {{ assignment.due_date.strftime('%b %d, %Y') }}</span>
            </div>
            <p>{{ assignment.description }}</p>
            <div class="assignment-actions">
                {% if assignment.status != 'completed' %}
                <a href="{{ url_for('submit_assignment', assignment_id=assignment.id) }}" class="btn btn-primary btn-sm">
                    <i class="fas fa-upload"></i> Submit
                </a>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    {% else %}
        <div class="empty-state">
            <i class="fas fa-tasks"></i>
            <p>No assignments found.</p>
        </div>
    {% endif %}
</div>
{% endblock %} 