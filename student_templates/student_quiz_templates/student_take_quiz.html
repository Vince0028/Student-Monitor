{% extends 'student_base.html' %}

{% block title %}Take Quiz: {{ quiz.title }}{% endblock %}

{% block content %}
<style>
    body { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    .quiz-container { max-width: 900px; margin: 0 auto; background: white; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.1); overflow: hidden; }
    .quiz-header { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding: 30px; color: white; text-align: center; border-radius: 20px 20px 0 0; }
    .quiz-title { font-size: 2.5rem; font-weight: 600; margin-bottom: 10px; }
    .quiz-subtitle { opacity: 0.9; font-size: 1.1rem; }
    .quiz-content { padding: 30px; }
    .question-card { background: white; border: 2px solid #e2e8f0; border-radius: 15px; padding: 25px; margin-bottom: 20px; position: relative; transition: all 0.3s ease; }
    .question-card:hover { border-color: #4facfe; box-shadow: 0 10px 30px rgba(79, 172, 254, 0.1); }
    .question-header { display: flex; align-items: center; margin-bottom: 20px; }
    .question-number { background: #4facfe; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; margin-right: 15px; flex-shrink: 0; }
    .question-input { flex: 1; border: none; font-size: 1.2rem; padding: 10px 0; color: #2d3748; background: transparent; }
    .question-input:focus { outline: none; border-bottom: 2px solid #4facfe; }
    .form-check-input:checked { background-color: #4facfe; border-color: #4facfe; }
    .btn-primary { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; border: none; padding: 12px 25px; border-radius: 10px; font-weight: 600; cursor: pointer; transition: all 0.3s; }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(79, 172, 254, 0.3); }
    @media (max-width: 768px) { .quiz-container { margin: 10px; border-radius: 15px; } .quiz-content { padding: 20px; } .question-card { padding: 20px; } .quiz-title { font-size: 2rem; } }
</style>
<div class="quiz-container mt-4" style="margin-top: 20px;">
    <div class="quiz-header">
        <div class="quiz-title">{{ quiz.title }}</div>
        <div class="quiz-subtitle">Answer all questions below and submit when finished.</div>
    </div>
    <div class="quiz-content">
        <form method="POST">
            {% for question in questions %}
            <div class="question-card">
                <div class="question-header">
                    <div class="question-number">{{ loop.index }}</div>
                    <strong class="question-input">{{ question.text }}</strong>
                </div>
                <div>
                    <input type="hidden" name="question_id" value="{{ question.id }}">
                    {% if question.type == 'multiple_choice' %}
                        {% if question.allowMultiple %}
                            {% for option in question.options %}
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" name="answer-{{ question.id }}[]" id="option-{{ loop.index }}-{{ question.id }}" value="{{ loop.index0 }}">
                                    <label class="form-check-label" for="option-{{ loop.index }}-{{ question.id }}">
                                        {{ option.text }}
                                    </label>
                                </div>
                            {% endfor %}
                        {% else %}
                            {% for option in question.options %}
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="radio" name="answer-{{ question.id }}" id="option-{{ loop.index }}-{{ question.id }}" value="{{ loop.index0 }}" required>
                                    <label class="form-check-label" for="option-{{ loop.index }}-{{ question.id }}">
                                        {{ option.text }}
                                    </label>
                                </div>
                            {% endfor %}
                        {% endif %}
                    {% elif question.type == 'short_answer' %}
                        <div class="mb-3">
                            <input type="text" class="form-control form-style-input" name="answer-{{ question.id }}" placeholder="Type your answer here" required>
                        </div>
                    {% elif question.type == 'true_false' %}
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="radio" name="answer-{{ question.id }}" id="true-{{ question.id }}" value="true" required>
                            <label class="form-check-label" for="true-{{ question.id }}">True</label>
                        </div>
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="radio" name="answer-{{ question.id }}" id="false-{{ question.id }}" value="false" required>
                            <label class="form-check-label" for="false-{{ question.id }}">False</label>
                        </div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
            <button type="submit" class="btn btn-primary btn-lg w-100">Submit Quiz</button>
        </form>
    </div>
</div>
{% endblock %} 